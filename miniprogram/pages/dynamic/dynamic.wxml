<!--pages/dynamic/dynamic.wxml-->
<view class="container">
  <view class="header">
    <text class="page-title">è®­ç»ƒè®¡åˆ’</text>
    <text class="page-subtitle">é€‰æ‹©é€‚åˆä½ çš„è®­ç»ƒç­‰çº§ï¼Œå¼€å§‹ä½ çš„æ¸¸æ³³ä¹‹æ—…</text>
  </view>

  <view class="training-levels">
    <block wx:for="{{trainingLevels}}" wx:key="id">
      <view class="level-card" bindtap="navigateToTrainingDetail" data-level="{{item.id}}">
        <view class="level-header">
          <view class="level-icon">{{item.icon}}</view>
          <view class="level-info">
            <text class="level-title">{{item.title}}</text>
            <text class="level-subtitle">{{item.subtitle}}</text>
          </view>
          <view class="level-progress">
            <text class="progress-text">{{item.progress}}%</text>
            <view class="progress-bar">
              <view class="progress-fill" style="width: {{item.progress}}%"></view>
            </view>
          </view>
        </view>
        
        <view class="level-description">
          <text>{{item.description}}</text>
        </view>
        
        <view class="level-stats">
          <view class="stat-item">
            <text class="stat-number">{{item.completedItems}}</text>
            <text class="stat-label">å·²å®Œæˆ</text>
          </view>
          <view class="stat-item">
            <text class="stat-number">{{item.totalItems}}</text>
            <text class="stat-label">æ€»é¡¹ç›®</text>
          </view>
        </view>

        <view class="level-actions">
          <view class="action-btn collect-btn {{item.isCollected ? 'collected' : ''}}" catchtap="toggleCollect" data-id="{{item.id}}" data-type="training">
            <text class="action-icon">{{item.isCollected ? 'â˜…' : 'â˜†'}}</text>
          </view>
          <view class="action-btn share-btn" catchtap="shareTraining" data-id="{{item.id}}" data-type="training">
            <text class="action-icon">ğŸ“¤</text>
          </view>
        </view>

        <view class="level-status" wx:if="{{item.progress === 100}}">
          <text class="status-complete">ğŸ‰ è®­ç»ƒå®Œæˆï¼</text>
        </view>
      </view>
    </block>
  </view>
</view>