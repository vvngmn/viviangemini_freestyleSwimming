<!--pages/collect/collect.wxml-->
<view class="container">
  <view class="header">
    <text class="page-title">æˆ‘çš„æ”¶è—</text>
    <text class="page-subtitle">æ”¶è—çš„æŠ€å·§å’Œè®­ç»ƒè®¡åˆ’</text>
  </view>

  <view class="actions" wx:if="{{collectedItems.length > 0}}">
    <view class="action-btn clear-btn" bindtap="clearAll">
      <text class="action-text">æ¸…ç©ºæ”¶è—</text>
    </view>
    <view class="action-btn share-btn" bindtap="shareCollection">
      <text class="action-text">åˆ†äº«æ”¶è—</text>
    </view>
  </view>

  <view class="collected-list" wx:if="{{groupedItems.length > 0}}">
    <block wx:for="{{groupedItems}}" wx:key="index">
      <view class="collected-item" bindtap="viewDetail" data-item="{{item}}">
        <view class="item-icon">{{item.icon || 'ğŸ“'}}</view>
        <view class="item-content">
          <text class="item-title">
            {{item.title}}
            <text wx:if="{{item.type === 'record_group' && item.count > 1}}" class="record-count"> ({{item.count}}æ¡è®°å½•)</text>
          </text>
          <text class="item-subtitle" wx:if="{{item.subtitle}}">{{item.subtitle}}</text>
          <text class="item-summary" wx:if="{{item.summary}}">{{item.summary}}</text>
          <text class="item-type">
            {{item.type === 'tip' ? 'æŠ€å·§è´´å£«' : item.type === 'training' ? 'è®­ç»ƒè®¡åˆ’' : 'æˆ‘çš„è®°å½•'}}
          </text>
          <text class="item-time">{{item.collectTime}}</text>
        </view>
        <view class="item-actions">
          <view class="action-btn collect-btn collected" catchtap="removeCollect" data-index="{{index}}">
            <text class="action-icon">â˜…</text>
          </view>
          <view class="action-btn share-btn" catchtap="shareItem" data-item="{{item}}">
            <text class="action-icon">ğŸ“¤</text>
          </view>
        </view>
      </view>
    </block>
  </view>

  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“š</text>
    <text class="empty-title">æš‚æ— æ”¶è—</text>
    <text class="empty-subtitle">å»æ¨èé¡µæˆ–è®­ç»ƒé¡µæ”¶è—ä¸€äº›å†…å®¹å§</text>
  </view>
</view>